{cover_enabled, true}.

{eunit_compile_opts, [{src_dirs, ["src"]}]}.

{port_env, [
    {"DRV_CFLAGS", "$DRV_CFLAGS -I c_src -Wall"},
    {"DRV_LDFLAGS", "$DRV_LDFLAGS c_src/syslogdrv.o"},

    %% Solaris specific flags
    {"solaris.*", "DRV_LDFLAGS", "$DRV_LDFLAGS -lrt"},
    {"solaris.*-64$", "CFLAGS", "-m64"},
    {"solaris.*-64$", "LDFLAGS", "-m64"},

    %% OS X Leopard flags for 64-bit
    {"darwin9.*-64$", "CFLAGS", "-m64"},
    {"darwin9.*-64$", "LDFLAGS", "-arch x86_64"},

    %% OS X Snow Leopard flags for 32-bit
    {"darwin10.*-32$", "CFLAGS", "-m32"},
    {"darwin10.*-32$", "LDFLAGS", "-arch i386"},

    %% Prevent the make->gmake transition from infecting
    %% MAKEFLAGS with bad flags that confuse gmake
    {"freebsd.*", "MAKEFLAGS", ""}
]}.
